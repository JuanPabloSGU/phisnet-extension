# phisnet-extension

## Project Tools
- Github actions
- Webpack
- Typescript
- EsLint

## Develop this package
1. Load the extension in chrome
2. Make changes
3. Build the extension
4. Reload the extension in Chrome
5. Once you are happy with the changes, push the changes to the repo.
6. The automatic deployment will take care of the rest.

## Notes
1. You do not need to modify anything in the `dist` folder, as the `*.js` files are generated by webpack.
2. If you need more functionality (such as more permissions), you need to modify the `manifest.json` file.
3. If you need to add more files, you need to modify the `webpack.config.js` file.

### Required Tools
- nvm
- chromium (what I have been using)

### Setup
1. Install [nvm](https://github.com/nvm-sh/nvm) 
2. Run `nvm use` to use the correct node version (v20.15.1)
3. Run `npm install` to install the dependencies
4. Run `npm run webpack` to build the extension
5. Open Chrome and go to `chrome://extensions/`
6. Enable Developer mode
7. Click on `Load unpacked` and select the `dist` folder
8. The extension should now be installed

### Login Requirements
- You need to have the creds for the `Test Capstone` account. Ask JP.

## Known Issues
- The extension is funny around authentication, so you may need to reload the extension after logging in.
- Sometimes the server will refresh its public tokens and will not work with the extension, which will cause 401 errors (invalid tokens).
- The service worker is sending errors due to `background.js` not having the correct permissions on when the extension has enabled automatic link search (Is a bug in issues).
