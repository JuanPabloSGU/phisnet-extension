(()=>{"use strict";let e=null,o=null,t=[];function n(){chrome.storage.local.get(["jwt","token"],(e=>{if(chrome.runtime.lastError)console.error(chrome.runtime.lastError.message);else{const o=e.jwt,t=e.token;o&&t?(chrome.action.setPopup({popup:"home.html"}),chrome.action.openPopup()):(chrome.action.setPopup({popup:"popup.html"}),chrome.action.openPopup())}}))}chrome.runtime.onInstalled.addListener((()=>{chrome.storage.local.clear(),chrome.action.setPopup({popup:"popup.html"}),chrome.action.openPopup()})),chrome.runtime.onStartup.addListener((()=>{n()})),chrome.action.onClicked.addListener((()=>{n()})),chrome.runtime.onMessage.addListener(((n,r,c)=>{switch(n.token?(e=n.token,c({message:"Token received"})):n.jwt?(o=n.jwt,c({message:"JWT received"})):n.links&&(t=n.links,c({message:"Links received",links:t})),n.action){case"getJWT":c({jwt:o});break;case"clearJWT":o=null,c({message:"JWT cleared"});break;case"getToken":c({token:e});break;case"clearToken":e=null,c({message:"Token cleared"});break;case"getLinks":c({links:t})}}))})();