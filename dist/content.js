(()=>{"use strict";chrome.runtime.sendMessage({action:"getJWT"},(e=>{const t=e.jwt;if(t){const e=document.getElementsByTagName("a");let o=new Set;for(let t=0;t<e.length;t++)o.add({href:e[t].href,text:e[t].innerText});let r=Array.from(o).map((e=>fetch("http://localhost:5000/api/v1/llm_mock",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({url:e.href})}).then((e=>e.json())).then((t=>({url:e.href,score:t.message}))).catch((e=>{console.error("Error fetching data:",e)}))));Promise.all(r).then((e=>{e=e.filter((e=>null!=e&&null!==e.url&&void 0!==e.url&&""!==e.url)),chrome.runtime.sendMessage({links:e},(e=>{console.log("Response from background:",e)}))}))}else console.log("User needs to authenticate")}))})();